<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Invoice System - Table</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      background: linear-gradient(135deg, #007BFF, #ffffff);
    }
    h1 {
      color: #fff;
      background-color: #007BFF;
      padding: 1rem;
      border-radius: 10px;
    }
    table {
      width: 100%;
      max-width: 800px;
      margin-bottom: 1rem;
      border-collapse: collapse;
      background: #fff;
    }
    th, td {
      padding: 0.5rem;
      border: 1px solid #ccc;
      text-align: left;
    }
    input {
      width: 100%;
      box-sizing: border-box;
    }
    button {
      padding: 0.6rem 1rem;
      margin-top: 1rem;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #message {
      margin-top: 1rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Invoice System</h1>
  <form id="invoiceForm">
    <table id="itemsTable">
      <thead>
        <tr>
          <th>Item</th>
          <th>Description</th>
          <th>Price</th>
          <th>Amount</th>
        </tr>
      </thead>
      <tbody>
        <!-- 10 rows -->
        <!-- Each input has a name with [] to create an array -->
        <script>
          for (let i = 0; i < 10; i++) {
            document.write(`
              <tr>
                <td><input type="text" name="item[]" /></td>
                <td><input type="text" name="description[]" /></td>
                <td><input type="number" name="price[]" /></td>
                <td><input type="number" name="amount[]" /></td>
              </tr>
            `);
          }
        </script>
      </tbody>
    </table><input type="text" id="customerName" placeholder="Customer Name" required />
<input type="email" id="senderEmail" placeholder="Your Email" required />
<button type="submit">Create Invoice</button>

  </form>  <div id="message"></div>  <!-- EmailJS -->  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>  <script>
    emailjs.init("Fmi-NSYKqIT9dmupP"); // your public key

    document.getElementById("invoiceForm").addEventListener("submit", function(event) {
      event.preventDefault();

      const form = event.target;
      const customerName = document.getElementById("customerName").value;
      const senderEmail = document.getElementById("senderEmail").value;
      const items = form.querySelectorAll("input[name='item[]']");
      const descriptions = form.querySelectorAll("input[name='description[]']");
      const prices = form.querySelectorAll("input[name='price[]']");
      const amounts = form.querySelectorAll("input[name='amount[]']");

      let invoiceDetails = "";

      for (let i = 0; i < items.length; i++) {
        if (items[i].value.trim() !== "") {
          invoiceDetails += Item: ${items[i].value}, Desc: ${descriptions[i].value}, Price: ${prices[i].value}, Amount: ${amounts[i].value}\n;
        }
      }

      const templateParams = {
        customer_name: customerName,
        sender_email: senderEmail,
        message: invoiceDetails
      };

      emailjs.send("service_u97et9", "asgp28f", templateParams)
        .then(function() {
          document.getElementById("message").textContent = "Invoice sent successfully!";
          document.getElementById("message").style.color = "green";
        }, function(error) {
          document.getElementById("message").textContent = "Failed to send invoice.";
          document.getElementById("message").style.color = "red";
          console.error(error);
        });
    });
  </script></body>
</html>
